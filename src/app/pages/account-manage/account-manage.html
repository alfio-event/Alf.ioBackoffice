<ActionBar class="nt-action-bar" title="Select Event">
    <NavigationButton *ifAndroid icon="res://ic_arrow_back_white" (tap)="onBackTap()" text="Accounts"></NavigationButton>
    <NavigationButton *ifIos (tap)="onBackTap()" text="Accounts"></NavigationButton>
</ActionBar>

<GridLayout [rows]="rowsLayout">
  <GridLayout columns="16, 50, 16, *" rows="16, auto, auto" class="bg-warning" *ngIf="accountHasPendingDataForPastEvents && !isLoading" row="0" (tap)="forcePushPendingScans()">
      <Label class="icon icon-2x text-center" text="&#xf30c;" col="1" row="1" rowSpan="2"></Label>
      <Label text="You have pending data from past events" class="h2" col="3" row="1"></Label>
      <Label text="Tap here to force upload." class="h2" col="3" row="2"></Label>
  </GridLayout>
  <RadListView id="list" *ngIf="account && !isLoading" [items]="events" row="2"
		multipleSelection="false" selectionBehavior="None"
    swipeActions="false"
    pullToRefresh="true"
    (pullToRefreshInitiated)="onPullToRefreshInitiated($event)">
		<ng-template tkListItemTemplate let-event="item">
      <GridLayout rows="50, 110" columns="*, 35" class="-separator" (tap)="select($event)">
        <Image *ngIf="event" [src]="account.url + event.imageUrl" loadMode="async" stretch="aspectFit" row="0" col="0"></Image>
        <StackLayout col="0" row="1" orientation="vertical" *ngIf="event">
            <Label [text]="event.name" class="h3" textWrap="true"></Label>
            <Label text="{{ event.begin | date:'short' }} - {{ event.end | date:'short' }}" *ngIf="!event.oneDay"></Label>
            <Label text="{{ event.begin | date:'shortDate' }} {{ event.begin | date:'shortTime' }} - {{ event.end | date:'shortTime' }}" *ngIf="event.oneDay"></Label>
            <Label [text]="event.location"></Label>
        </StackLayout>
        <Label text="&#xf2fb;" rowSpan="2" col="2" class="icon icon-1-5x person-icon text-center"></Label>
      </GridLayout>
		</ng-template>
	</RadListView>
  <ActivityIndicator class="activity-indicator" [busy]="isLoading" [visibility]="isLoading ? 'visible' : 'collapse'" row="2" horizontalAlignment="center" verticalAlignment="center"></ActivityIndicator>

</GridLayout>
